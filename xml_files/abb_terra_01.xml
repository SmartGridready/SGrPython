<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="/xsl/SGr.xsl"?>
<sgr:SGrModbusDeviceFrame deviceName="Webasto" isLocalControl="true" manufacturerID="thirdPartySrcInfo" manufacturerName="Webasto"
    xmlns:sgr="http://www.smartgridready.com/ns/V0/"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.smartgridready.com/ns/V0/ ../../SchemaDatabase/SGr/EI-Modbus/SGrModbusEIDeviceFrame.xsd ">
    <sgr:releaseNotes>
		<sgr:state>Draft</sgr:state>
	</sgr:releaseNotes>
    <sgr:deviceProfile> 
        <sgr:transportService>Modbus</sgr:transportService>
        <sgr:deviceKind>ChargingStation</sgr:deviceKind>
        <sgr:serialNumber>0</sgr:serialNumber>
        <sgr:softwareRevision>
        	<sgr:primaryVersionNumber>0</sgr:primaryVersionNumber>
        	<sgr:secondaryVersionNumber>0</sgr:secondaryVersionNumber>
        	<sgr:subReleaseVersionNumber>0</sgr:subReleaseVersionNumber>
        </sgr:softwareRevision>
    </sgr:deviceProfile>
    <sgr:modbusInterfaceDesc>
        <sgr:modbusInterfaceSelection>TCP/IP</sgr:modbusInterfaceSelection>
        <sgr:trspSrvModbusTCPoutOfBox>
            <sgr:port>502</sgr:port>
            <sgr:address>
                <sgr:ipV4n1>1</sgr:ipV4n1>
                <sgr:ipV4n2>1</sgr:ipV4n2>
                <sgr:ipV4n3>1</sgr:ipV4n3>
                <sgr:ipV4n4>1</sgr:ipV4n4>
            </sgr:address>
            <sgr:slaveID>1</sgr:slaveID>
        </sgr:trspSrvModbusTCPoutOfBox>
        <sgr:firstRegisterAddressIsOne>true</sgr:firstRegisterAddressIsOne>
        <sgr:conversionScheme>BigEndian</sgr:conversionScheme>
    </sgr:modbusInterfaceDesc>
    <sgr:fpListElement>
        <sgr:functionalProfile profileName="VoltageAC">
            <sgr:profileNumber>
                <sgr:specsOwnerId>0</sgr:specsOwnerId>
                <sgr:profileIdentification>SubMeterElectricity</sgr:profileIdentification>
                <sgr:subProfileIdent>VoltageAC</sgr:subProfileIdent>
                <sgr:sgrLevelOfOperation>4</sgr:sgrLevelOfOperation>
                <sgr:versionNumber>
                	<sgr:primaryVersionNumber>0</sgr:primaryVersionNumber>
                	<sgr:secondaryVersionNumber>1</sgr:secondaryVersionNumber>
                	<sgr:subReleaseVersionNumber>2</sgr:subReleaseVersionNumber>
                </sgr:versionNumber>
            </sgr:profileNumber>
        </sgr:functionalProfile>
        <sgr:dpListElement>
            <sgr:dataPoint datapointName="VoltageACL1" mroVisibilityIndicator="M" rwpDatadirection="R" unit="VOLTS">
                <sgr:basicDataType>
                	<sgr:float32>0.0</sgr:float32></sgr:basicDataType>
            </sgr:dataPoint>
            <sgr:modbusDataPoint>
                <sgr:modbusDataType>
                	<sgr:int32>0</sgr:int32></sgr:modbusDataType>
                <sgr:modbusFirstRegisterReference addr="16406" bitRank="0" registerType="InputRegister"></sgr:modbusFirstRegisterReference>
                <sgr:dpSizeNrRegisters>2</sgr:dpSizeNrRegisters>
                <sgr:masterFunctionsSupported>Primitives</sgr:masterFunctionsSupported>
            </sgr:modbusDataPoint>
            <sgr:modbusAttr>
                <sgr:scalingByMulPwr>
                    <sgr:multiplicator>1</sgr:multiplicator>
                    <sgr:powerof10>-1</sgr:powerof10>
                </sgr:scalingByMulPwr>
            </sgr:modbusAttr>
        </sgr:dpListElement>
        <sgr:dpListElement>
            <sgr:dataPoint datapointName="VoltageACL2" mroVisibilityIndicator="M" rwpDatadirection="R" unit="VOLTS">
                <sgr:basicDataType>
                	<sgr:float32>0.0</sgr:float32></sgr:basicDataType>
            </sgr:dataPoint>
            <sgr:modbusDataPoint>
                <sgr:modbusDataType>
                	<sgr:int32>0</sgr:int32></sgr:modbusDataType>
                <sgr:modbusFirstRegisterReference addr="16408" bitRank="0" registerType="InputRegister"></sgr:modbusFirstRegisterReference>
                <sgr:dpSizeNrRegisters>2</sgr:dpSizeNrRegisters>
                <sgr:masterFunctionsSupported>Primitives</sgr:masterFunctionsSupported>
            </sgr:modbusDataPoint>
            <sgr:modbusAttr>
                <sgr:scalingByMulPwr>
                    <sgr:multiplicator>1</sgr:multiplicator>
                    <sgr:powerof10>-1</sgr:powerof10>
                </sgr:scalingByMulPwr>
            </sgr:modbusAttr>
        </sgr:dpListElement>
        <sgr:dpListElement>
            <sgr:dataPoint datapointName="VoltageACL3" mroVisibilityIndicator="M" rwpDatadirection="R" unit="VOLTS">
                <sgr:basicDataType>
                	<sgr:float32>0.0</sgr:float32></sgr:basicDataType>
            </sgr:dataPoint>
            <sgr:modbusDataPoint>
                <sgr:modbusDataType>
                	<sgr:int32>0</sgr:int32></sgr:modbusDataType>
                <sgr:modbusFirstRegisterReference addr="16410" bitRank="0" registerType="InputRegister"></sgr:modbusFirstRegisterReference>
                <sgr:dpSizeNrRegisters>2</sgr:dpSizeNrRegisters>
                <sgr:masterFunctionsSupported>Primitives</sgr:masterFunctionsSupported>
            </sgr:modbusDataPoint>
            <sgr:modbusAttr>
                <sgr:scalingByMulPwr>
                    <sgr:multiplicator>1</sgr:multiplicator>
                    <sgr:powerof10>-1</sgr:powerof10>
                </sgr:scalingByMulPwr>
            </sgr:modbusAttr>
        </sgr:dpListElement>
    </sgr:fpListElement>

    <sgr:fpListElement>
        <sgr:functionalProfile profileName="CurrentAC">
            <sgr:profileNumber>
                <sgr:specsOwnerId>0</sgr:specsOwnerId>
                <sgr:profileIdentification>NonSpecific</sgr:profileIdentification>
                <sgr:subProfileIdent>CurrentAC</sgr:subProfileIdent>
                <sgr:sgrLevelOfOperation>m</sgr:sgrLevelOfOperation>
                <sgr:versionNumber>
                	<sgr:primaryVersionNumber>1</sgr:primaryVersionNumber>
                	<sgr:secondaryVersionNumber>0</sgr:secondaryVersionNumber>
                	<sgr:subReleaseVersionNumber>0</sgr:subReleaseVersionNumber>
                </sgr:versionNumber>
            </sgr:profileNumber>
        </sgr:functionalProfile>
        <sgr:dpListElement>
            <sgr:dataPoint datapointName="CurrentACL1" mroVisibilityIndicator="M" rwpDatadirection="R" unit="AMPERES">
                <sgr:basicDataType>
                	<sgr:float32>0.0</sgr:float32></sgr:basicDataType>
            </sgr:dataPoint>
            <sgr:modbusDataPoint>
                <sgr:modbusDataType>
                	<sgr:int32U>0</sgr:int32U></sgr:modbusDataType>
                <sgr:modbusFirstRegisterReference addr="16400" bitRank="0" registerType="HoldRegister"></sgr:modbusFirstRegisterReference>
                <sgr:dpSizeNrRegisters>2</sgr:dpSizeNrRegisters>
                <sgr:masterFunctionsSupported>Primitives</sgr:masterFunctionsSupported>
            </sgr:modbusDataPoint>
            <sgr:modbusAttr>
                <sgr:scalingByMulPwr>
                    <sgr:multiplicator>1</sgr:multiplicator>
                    <sgr:powerof10>-3</sgr:powerof10>
                </sgr:scalingByMulPwr>
            </sgr:modbusAttr>
        </sgr:dpListElement>
        <sgr:dpListElement>
            <sgr:dataPoint datapointName="CurrentACL2" mroVisibilityIndicator="R" rwpDatadirection="R" unit="AMPERES">
                <sgr:basicDataType>
                	<sgr:float32>0.0</sgr:float32></sgr:basicDataType>
            </sgr:dataPoint>
            <sgr:modbusDataPoint>
                <sgr:modbusDataType>
                	<sgr:int32U>0</sgr:int32U></sgr:modbusDataType>
                <sgr:modbusFirstRegisterReference addr="16402" bitRank="0" registerType="HoldRegister"></sgr:modbusFirstRegisterReference>
                <sgr:dpSizeNrRegisters>2</sgr:dpSizeNrRegisters>
                <sgr:masterFunctionsSupported>Primitives</sgr:masterFunctionsSupported>
            </sgr:modbusDataPoint>
            <sgr:modbusAttr>
                <sgr:scalingByMulPwr>
                    <sgr:multiplicator>1</sgr:multiplicator>
                    <sgr:powerof10>-3</sgr:powerof10>
                </sgr:scalingByMulPwr>
            </sgr:modbusAttr>
        </sgr:dpListElement>
        <sgr:dpListElement>
            <sgr:dataPoint datapointName="CurrentACL3" mroVisibilityIndicator="R" rwpDatadirection="R" unit="AMPERES">
                <sgr:basicDataType>
                	<sgr:float32>0.0</sgr:float32></sgr:basicDataType>
            </sgr:dataPoint>
            <sgr:modbusDataPoint>
                <sgr:modbusDataType>
                	<sgr:int32U>0</sgr:int32U></sgr:modbusDataType>
                <sgr:modbusFirstRegisterReference addr="16404" bitRank="0" registerType="HoldRegister"></sgr:modbusFirstRegisterReference>
                <sgr:dpSizeNrRegisters>2</sgr:dpSizeNrRegisters>
                <sgr:masterFunctionsSupported>Primitives</sgr:masterFunctionsSupported>
            </sgr:modbusDataPoint>
            <sgr:modbusAttr>
                <sgr:scalingByMulPwr>
                    <sgr:multiplicator>1</sgr:multiplicator>
                    <sgr:powerof10>-3</sgr:powerof10>
                </sgr:scalingByMulPwr>
            </sgr:modbusAttr>
        </sgr:dpListElement>
    </sgr:fpListElement>
    <sgr:fpListElement>
        <sgr:functionalProfile profileName="ChargingCurrentLimit">
            <sgr:profileNumber>
                <sgr:specsOwnerId>0</sgr:specsOwnerId>
                <sgr:profileIdentification>ChargingOutlet</sgr:profileIdentification>
                <sgr:subProfileIdent>Curtailment</sgr:subProfileIdent>
                <sgr:sgrLevelOfOperation>4</sgr:sgrLevelOfOperation>
                <sgr:versionNumber>
                	<sgr:primaryVersionNumber>0</sgr:primaryVersionNumber>
                	<sgr:secondaryVersionNumber>1</sgr:secondaryVersionNumber>
                	<sgr:subReleaseVersionNumber>2</sgr:subReleaseVersionNumber>
                </sgr:versionNumber>
            </sgr:profileNumber>
        </sgr:functionalProfile>
        <sgr:dpListElement>
            <sgr:dataPoint datapointName="ChargingCurrentLimitRead" mroVisibilityIndicator="M" rwpDatadirection="R" unit="AMPERES">
                <sgr:basicDataType>
                	<sgr:float32>0.0</sgr:float32></sgr:basicDataType>
            </sgr:dataPoint>
            <sgr:modbusDataPoint>
                <sgr:modbusDataType>
                	<sgr:int32U>0</sgr:int32U></sgr:modbusDataType>
                <sgr:modbusFirstRegisterReference addr="16398" bitRank="0" registerType="HoldRegister"></sgr:modbusFirstRegisterReference>
                <sgr:dpSizeNrRegisters>2</sgr:dpSizeNrRegisters>
                <sgr:masterFunctionsSupported>Primitives</sgr:masterFunctionsSupported>
            </sgr:modbusDataPoint>
            <sgr:modbusAttr>
                <sgr:scalingByMulPwr>
                    <sgr:multiplicator>1</sgr:multiplicator>
                    <sgr:powerof10>-3</sgr:powerof10>
                </sgr:scalingByMulPwr>
            </sgr:modbusAttr>
        </sgr:dpListElement>
        <sgr:dpListElement>
            <sgr:dataPoint datapointName="ChargingCurrentLimitWrite" mroVisibilityIndicator="M" rwpDatadirection="R" unit="AMPERES">
                <sgr:basicDataType>
                	<sgr:float32>0.0</sgr:float32></sgr:basicDataType>
            </sgr:dataPoint>
            <sgr:modbusDataPoint>
                <sgr:modbusDataType>
                	<sgr:int32U>0</sgr:int32U></sgr:modbusDataType>
                <sgr:modbusFirstRegisterReference addr="16640" bitRank="0" registerType="HoldRegister"></sgr:modbusFirstRegisterReference>
                <sgr:dpSizeNrRegisters>2</sgr:dpSizeNrRegisters>
                <sgr:masterFunctionsSupported>Primitives</sgr:masterFunctionsSupported>
            </sgr:modbusDataPoint>
            <sgr:modbusAttr>
                <sgr:scalingByMulPwr>
                    <sgr:multiplicator>1</sgr:multiplicator>
                    <sgr:powerof10>-3</sgr:powerof10>
                </sgr:scalingByMulPwr>
            </sgr:modbusAttr>
        </sgr:dpListElement>
    </sgr:fpListElement>
    <sgr:fpListElement>
        <sgr:functionalProfile profileName="Status">
            <sgr:profileNumber>
                <sgr:specsOwnerId>0</sgr:specsOwnerId>
                <sgr:profileIdentification>EV</sgr:profileIdentification>
                <sgr:subProfileIdent>EnergyMonitor</sgr:subProfileIdent>
                <sgr:sgrLevelOfOperation>4</sgr:sgrLevelOfOperation>
                <sgr:versionNumber>
                	<sgr:primaryVersionNumber>0</sgr:primaryVersionNumber>
                	<sgr:secondaryVersionNumber>1</sgr:secondaryVersionNumber>
                	<sgr:subReleaseVersionNumber>2</sgr:subReleaseVersionNumber>
                </sgr:versionNumber>
            </sgr:profileNumber>
        </sgr:functionalProfile>
        <sgr:dpListElement>
            <sgr:dataPoint datapointName="EV-StatusCode" mroVisibilityIndicator="M" rwpDatadirection="R" unit="NONE">
                <sgr:basicDataType>
                	<sgr:enum>
                		<sgr:sgrEVState>EV_STANDBY</sgr:sgrEVState>
                	</sgr:enum>
                </sgr:basicDataType>
            </sgr:dataPoint>
            <sgr:modbusDataPoint>
                <sgr:modbusDataType>
                	<sgr:int32U>0</sgr:int32U></sgr:modbusDataType>
                <sgr:modbusFirstRegisterReference addr="16396" bitRank="0" registerType="HoldRegister"></sgr:modbusFirstRegisterReference>
                <sgr:dpSizeNrRegisters>2</sgr:dpSizeNrRegisters>
                <sgr:bitmask>00000F00</sgr:bitmask>
                <sgr:masterFunctionsSupported>Primitives</sgr:masterFunctionsSupported>
                <sgr:modbusJMESPath>[{"state": @==`0`, "char": `"A"`}, {"state": @==`256`, "char": `"B"`}, {"state": @==`512`, "char": `"B"`}, {"state": @==`768`, "char": `"C"`}, {"state": @==`1024`, "char": `"C"`}, {"state": @==`1280`, "char": `"E"`}, {"state": `true`, "char": `"F"`}][?state] | [0].char</sgr:modbusJMESPath>
            </sgr:modbusDataPoint>
        </sgr:dpListElement>
    </sgr:fpListElement>
</sgr:SGrModbusDeviceFrame>