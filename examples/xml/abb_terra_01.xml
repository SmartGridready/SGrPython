<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="/xsl/SGr.xsl"?>
<DeviceFrame xmlns="http://www.smartgridready.com/ns/V0/"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.smartgridready.com/ns/V0/ ../../SchemaDatabase/SGr/Product/Product.xsd">
    <deviceName>Webasto</deviceName>
    <manufacturerName>Webasto</manufacturerName>
    <specificationOwnerIdentification>0</specificationOwnerIdentification>
    <releaseNotes>
        <state>Draft</state>
    </releaseNotes>
    <deviceInformation>
        <deviceCategory>ChargingStation</deviceCategory>
        <isLocalControl>true</isLocalControl>
        <softwareRevision>0.0.0</softwareRevision>
    </deviceInformation>
    <interfaceList>
        <modbusInterface>
            <modbusInterfaceDescription>
                <modbusInterfaceSelection>TCPIP</modbusInterfaceSelection>
                <modbusTcp>
                    <port>502</port>
                    <address>1.1.1.1</address>
                    <slaveId>1</slaveId>
                </modbusTcp>
                <firstRegisterAddressIsOne>true</firstRegisterAddressIsOne>
                <bitOrder>BigEndian</bitOrder>
            </modbusInterfaceDescription>
            <functionalProfileList>
                <functionalProfileListElement>
                    <functionalProfile>
                        <functionalProfileName>VoltageAC</functionalProfileName>
                        <functionalProfileIdentification>
                            <specificationOwnerIdentification>0</specificationOwnerIdentification>
                            <functionalProfileCategory>SubMeterElectricity</functionalProfileCategory>
                            <functionalProfileType>VoltageAC</functionalProfileType>
                            <levelOfOperation>4</levelOfOperation>
                            <versionNumber>
                                <primaryVersionNumber>0</primaryVersionNumber>
                                <secondaryVersionNumber>1</secondaryVersionNumber>
                                <subReleaseVersionNumber>2</subReleaseVersionNumber>
                            </versionNumber>
                        </functionalProfileIdentification>
                    </functionalProfile>
                    <dataPointList>
                        <dataPointListElement>
                            <dataPoint>
                                <dataPointName>VoltageACL1</dataPointName>
                                <dataDirection>R</dataDirection>
                                <presenceLevel>M</presenceLevel>
                                <dataType>
                                    <float64 />
                                </dataType>
                                <unit>VOLTS</unit>
                            </dataPoint>
                            <modbusDataPointConfiguration>
                                <modbusDataType>
                                    <int32 />
                                </modbusDataType>
                                <address>16406</address>
                                <registerType>HoldRegister</registerType>
                                <numberOfRegisters>2</numberOfRegisters>
                            </modbusDataPointConfiguration>
                            <modbusAttributes>
                                <scalingFactor>
                                    <multiplicator>1</multiplicator>
                                    <powerof10>-1</powerof10>
                                </scalingFactor>
                            </modbusAttributes>
                        </dataPointListElement>
                        <dataPointListElement>
                            <dataPoint>
                                <dataPointName>VoltageACL2</dataPointName>
                                <dataDirection>R</dataDirection>
                                <presenceLevel>M</presenceLevel>
                                <dataType>
                                    <float64 />
                                </dataType>
                                <unit>VOLTS</unit>
                            </dataPoint>
                            <modbusDataPointConfiguration>
                                <modbusDataType>
                                    <int32 />
                                </modbusDataType>
                                <address>16408</address>
                                <registerType>HoldRegister</registerType>
                                <numberOfRegisters>2</numberOfRegisters>
                            </modbusDataPointConfiguration>
                            <modbusAttributes>
                                <scalingFactor>
                                    <multiplicator>1</multiplicator>
                                    <powerof10>-1</powerof10>
                                </scalingFactor>
                            </modbusAttributes>
                        </dataPointListElement>
                        <dataPointListElement>
                            <dataPoint>
                                <dataPointName>VoltageACL3</dataPointName>
                                <dataDirection>R</dataDirection>
                                <presenceLevel>M</presenceLevel>
                                <dataType>
                                    <float64 />
                                </dataType>
                                <unit>VOLTS</unit>
                            </dataPoint>
                            <modbusDataPointConfiguration>
                                <modbusDataType>
                                    <int32 />
                                </modbusDataType>
                                <address>16410</address>
                                <registerType>HoldRegister</registerType>
                                <numberOfRegisters>2</numberOfRegisters>
                            </modbusDataPointConfiguration>
                            <modbusAttributes>
                                <scalingFactor>
                                    <multiplicator>1</multiplicator>
                                    <powerof10>-1</powerof10>
                                </scalingFactor>
                            </modbusAttributes>
                        </dataPointListElement>
                    </dataPointList>
                </functionalProfileListElement>
                <functionalProfileListElement>
                    <functionalProfile>
                        <functionalProfileName>CurrentAC</functionalProfileName>
                        <functionalProfileIdentification>
                            <specificationOwnerIdentification>0</specificationOwnerIdentification>
                            <functionalProfileCategory>Metering</functionalProfileCategory>
                            <functionalProfileType>CurrentAC</functionalProfileType>
                            <levelOfOperation>m</levelOfOperation>
                            <versionNumber>
                                <primaryVersionNumber>1</primaryVersionNumber>
                                <secondaryVersionNumber>0</secondaryVersionNumber>
                                <subReleaseVersionNumber>0</subReleaseVersionNumber>
                            </versionNumber>
                        </functionalProfileIdentification>
                    </functionalProfile>
                    <dataPointList>
                        <dataPointListElement>
                            <dataPoint>
                                <dataPointName>CurrentACL1</dataPointName>
                                <dataDirection>R</dataDirection>
                                <presenceLevel>M</presenceLevel>
                                <dataType>
                                    <float64 />
                                </dataType>
                                <unit>AMPERES</unit>
                            </dataPoint>
                            <modbusDataPointConfiguration>
                                <modbusDataType>
                                    <int32U />
                                </modbusDataType>
                                <address>16400</address>
                                <registerType>HoldRegister</registerType>
                                <numberOfRegisters>2</numberOfRegisters>
                            </modbusDataPointConfiguration>
                            <modbusAttributes>
                                <scalingFactor>
                                    <multiplicator>1</multiplicator>
                                    <powerof10>-3</powerof10>
                                </scalingFactor>
                            </modbusAttributes>
                        </dataPointListElement>
                        <dataPointListElement>
                            <dataPoint>
                                <dataPointName>CurrentACL2</dataPointName>
                                <dataDirection>R</dataDirection>
                                <presenceLevel>R</presenceLevel>
                                <dataType>
                                    <float64 />
                                </dataType>
                                <unit>AMPERES</unit>
                            </dataPoint>
                            <modbusDataPointConfiguration>
                                <modbusDataType>
                                    <int32U />
                                </modbusDataType>
                                <address>16402</address>
                                <registerType>HoldRegister</registerType>
                                <numberOfRegisters>2</numberOfRegisters>
                            </modbusDataPointConfiguration>
                            <modbusAttributes>
                                <scalingFactor>
                                    <multiplicator>1</multiplicator>
                                    <powerof10>-3</powerof10>
                                </scalingFactor>
                            </modbusAttributes>
                        </dataPointListElement>
                        <dataPointListElement>
                            <dataPoint>
                                <dataPointName>CurrentACL3</dataPointName>
                                <dataDirection>R</dataDirection>
                                <presenceLevel>R</presenceLevel>
                                <dataType>
                                    <float64 />
                                </dataType>
                                <unit>AMPERES</unit>
                            </dataPoint>
                            <modbusDataPointConfiguration>
                                <modbusDataType>
                                    <int32U />
                                </modbusDataType>
                                <address>16404</address>
                                <registerType>HoldRegister</registerType>
                                <numberOfRegisters>2</numberOfRegisters>
                            </modbusDataPointConfiguration>
                            <modbusAttributes>
                                <scalingFactor>
                                    <multiplicator>1</multiplicator>
                                    <powerof10>-3</powerof10>
                                </scalingFactor>
                            </modbusAttributes>
                        </dataPointListElement>
                    </dataPointList>
                </functionalProfileListElement>
                <functionalProfileListElement>
                    <functionalProfile>
                        <functionalProfileName>ChargingCurrentLimit</functionalProfileName>
                        <functionalProfileIdentification>
                            <specificationOwnerIdentification>0</specificationOwnerIdentification>
                            <functionalProfileCategory>ChargingOutlet</functionalProfileCategory>
                            <functionalProfileType>Curtailment</functionalProfileType>
                            <levelOfOperation>4</levelOfOperation>
                            <versionNumber>
                                <primaryVersionNumber>0</primaryVersionNumber>
                                <secondaryVersionNumber>1</secondaryVersionNumber>
                                <subReleaseVersionNumber>2</subReleaseVersionNumber>
                            </versionNumber>
                        </functionalProfileIdentification>
                    </functionalProfile>
                    <dataPointList>
                        <dataPointListElement>
                            <dataPoint>
                                <dataPointName>ChargingCurrentLimitRead</dataPointName>
                                <dataDirection>R</dataDirection>
                                <presenceLevel>M</presenceLevel>
                                <dataType>
                                    <float64 />
                                </dataType>
                                <unit>AMPERES</unit>
                            </dataPoint>
                            <modbusDataPointConfiguration>
                                <modbusDataType>
                                    <int32U />
                                </modbusDataType>
                                <address>16398</address>
                                <registerType>HoldRegister</registerType>
                                <numberOfRegisters>2</numberOfRegisters>
                            </modbusDataPointConfiguration>
                            <modbusAttributes>
                                <scalingFactor>
                                    <multiplicator>1</multiplicator>
                                    <powerof10>-3</powerof10>
                                </scalingFactor>
                            </modbusAttributes>
                        </dataPointListElement>
                        <dataPointListElement>
                            <dataPoint>
                                <dataPointName>ChargingCurrentLimitWrite</dataPointName>
                                <dataDirection>R</dataDirection>
                                <presenceLevel>M</presenceLevel>
                                <dataType>
                                    <float64 />
                                </dataType>
                                <unit>AMPERES</unit>
                            </dataPoint>
                            <modbusDataPointConfiguration>
                                <modbusDataType>
                                    <int32U />
                                </modbusDataType>
                                <address>16640</address>
                                <registerType>HoldRegister</registerType>
                                <numberOfRegisters>2</numberOfRegisters>
                            </modbusDataPointConfiguration>
                            <modbusAttributes>
                                <scalingFactor>
                                    <multiplicator>1</multiplicator>
                                    <powerof10>-3</powerof10>
                                </scalingFactor>
                            </modbusAttributes>
                        </dataPointListElement>
                    </dataPointList>
                </functionalProfileListElement>
                <functionalProfileListElement>
                    <functionalProfile>
                        <functionalProfileName>Status</functionalProfileName>
                        <functionalProfileIdentification>
                            <specificationOwnerIdentification>0</specificationOwnerIdentification>
                            <functionalProfileCategory>EV</functionalProfileCategory>
                            <functionalProfileType>EnergyMonitor</functionalProfileType>
                            <levelOfOperation>4</levelOfOperation>
                            <versionNumber>
                                <primaryVersionNumber>0</primaryVersionNumber>
                                <secondaryVersionNumber>1</secondaryVersionNumber>
                                <subReleaseVersionNumber>2</subReleaseVersionNumber>
                            </versionNumber>
                        </functionalProfileIdentification>
                    </functionalProfile>
                    <dataPointList>
                        <dataPointListElement>
                            <dataPoint>
                                <dataPointName>EV-StatusCode</dataPointName>
                                <dataDirection>R</dataDirection>
                                <presenceLevel>M</presenceLevel>
                                <dataType>
                                    <enum>
                                        <enumEntry>
                                            <literal>EV_STANDBY</literal>
                                            <ordinal>0</ordinal>
                                        </enumEntry>
                                        <enumEntry>
                                            <literal>EV_DETECTED</literal>
                                            <ordinal>256</ordinal>
                                        </enumEntry>
                                        <enumEntry>
                                            <literal>EV_READY4CHARGING</literal>
                                            <ordinal>512</ordinal>
                                        </enumEntry>
                                        <enumEntry>
                                            <literal>EV_WITHFAN</literal>
                                            <ordinal>768</ordinal>
                                        </enumEntry>
                                        <enumEntry>
                                            <literal>EV_SHUTOFF</literal>
                                            <ordinal>1024</ordinal>
                                        </enumEntry>
                                        <enumEntry>
                                            <literal>EV_ERROR</literal>
                                            <ordinal>1280</ordinal>
                                        </enumEntry>
                                        <hexMask>0F00</hexMask>
                                    </enum>
                                </dataType>
                                <unit>NONE</unit>
                                <programmerHints>
                                    <textElement>
                                        <![CDATA[
                                        ACHTUNG: der Modbus Wert muss erst mit der Bitmaske 0x0F00 gefiltert werden, nur Bits 9-12 sind relevant.<br/>
                                        JMES Path: [{"state": @==`0`, "char": `"A"`}, {"state": @==`256`, "char": `"B"`}, {"state": @==`512`, "char": `"B"`}, {"state": @==`768`, "char": `"C"`}, {"state": @==`1024`, "char": `"C"`}, {"state": @==`1280`, "char": `"E"`}, {"state": `true`, "char": `"F"`}][?state] | [0].char
                                        ]]>
                                    </textElement>
                                    <language>de</language>
                                </programmerHints>
                            </dataPoint>
                            <modbusDataPointConfiguration>
                                <modbusDataType>
                                    <int32U />
                                </modbusDataType>
                                <address>16396</address>
                                <registerType>HoldRegister</registerType>
                                <numberOfRegisters>2</numberOfRegisters>
                            </modbusDataPointConfiguration>
                        </dataPointListElement>
                    </dataPointList>
                </functionalProfileListElement>
            </functionalProfileList>
        </modbusInterface>
    </interfaceList>
</DeviceFrame>